<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Phantm 404</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
  margin: 0;
  height: 100vh;
  background-color: black;
  font-family: 'Press Start 2P', cursive;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #00ff00;
  overflow: hidden;
}

.tv-container {
  position: relative;
  width: 600px;
  height: 400px;
  border: 12px solid #00ff00;
  border-radius: 20px;
  box-shadow: 0 0 30px #00ff00;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background-color: black;
}

.tv-screen {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-size: 50px;
  z-index: 2;
}

.arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 60px;
  cursor: pointer;
  user-select: none;
  transition: color 0.2s;
  z-index: 3;
}

.arrow:hover {
  color: #ffffff;
}

.arrow-left { left: 10px; }
.arrow-right { right: 10px; }

canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}
</style>
</head>
<body>

<div class="tv-container">
  <div class="arrow arrow-left" onclick="prevChannel()">&lt;</div>
  <div class="tv-screen" id="tv-screen">phantm 404</div>
  <div class="arrow arrow-right" onclick="nextChannel()">&gt;</div>
  <canvas id="noise"></canvas>
</div>

<script>
const channels = [
  { title: "001 music", link: "https://open.spotify.com/artist/7iN7TghMjGHXlBJ2wJJXXt?si=yEwFVYIWTiqOT3de-9FwQQ" },
  { title: "002 error", link: null }
];

let currentChannel = -1; // -1 es el inicio "phantm 404"

function updateChannel() {
  const screen = document.getElementById('tv-screen');
  if (currentChannel === -1) {
    screen.innerHTML = 'phantm 404';
  } else {
    const ch = channels[currentChannel];
    if (ch.link) {
      screen.innerHTML = `<a href="${ch.link}" target="_blank" style="color:#00ff00;text-decoration:none;">${ch.title}</a>`;
    } else {
      screen.innerHTML = ch.title;
    }
  }
}

function nextChannel() {
  currentChannel++;
  if (currentChannel >= channels.length) currentChannel = -1;
  updateChannel();
}

function prevChannel() {
  currentChannel--;
  if (currentChannel < -1) currentChannel = channels.length - 1;
  updateChannel();
}

// Televisor roto con ruido real
const canvas = document.getElementById('noise');
const ctx = canvas.getContext('2d');
canvas.width = canvas.offsetWidth;
canvas.height = canvas.offsetHeight;

function drawNoise() {
  const imageData = ctx.createImageData(canvas.width, canvas.height);
  for(let i = 0; i < imageData.data.length; i += 4){
    const v = Math.random() < 0.02 ? 255 : 0; // pÃ­xeles aleatorios
    imageData.data[i] = 0;      // R
    imageData.data[i+1] = v;    // G
    imageData.data[i+2] = 0;    // B
    imageData.data[i+3] = 255;  // A
  }
  ctx.putImageData(imageData, 0, 0);
  requestAnimationFrame(drawNoise);
}

drawNoise();
updateChannel();
</script>

</body>
</html>